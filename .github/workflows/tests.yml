name: tests
on:
   push:
      branches: [ "main", "develop" ]
   pull_request:
      branches: [ "main", "develop" ]
      
jobs:
   build_job:
      runs-on: ubuntu-latest
      steps:
         - uses: actions/checkout@v3

         - name: installing
           run: sudo apt install cmake make g++ vcpkg && vcpkg install protobuf

         - name: configuring
           run: cmake -S . -B build

         - name: building
           run: cmake --build build

         - name: testing
           run: ctest -VV --test-dir build/tests
